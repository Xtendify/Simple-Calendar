/*! Simple Calendar - 3.2.2
 * https://simplecalendar.io
 * Copyright (c) Xtendify Technologies 2023
 * Licensed GPLv2+ */

(()=>{var P=(w,r)=>()=>(r||w((r={exports:{}}).exports,r),r.exports);var O=P(k=>{(function(w,r){"use strict";jQuery(function(e){e(".simcal-help-tip").tipTip({attribute:"data-tip",delay:200,fadeIn:50,fadeOut:50}),e(".simcal-shortcode-tip").tipTip({activation:"click",defaultPosition:"top",delay:200,fadeIn:50,fadeOut:50});var f=e("#simcal-calendar-settings"),y=f.find(".simcal-box-handle"),b=f.find(".hndle");e(y).appendTo(b),e(function(){e(b).unbind("click.postboxes"),f.on("click","h3.hndle",function(l){e(l.target).filter("input, option, label, select").length||f.toggleClass("closed")})}),e(document.body).on("simcal-init-tabbed-panels",function(){e(".simcal-tabs").show(),e(".simcal-tabs a").click(function(){var l=e(this).closest("div.simcal-panels-wrap");return e("ul.simcal-tabs li",l).removeClass("active"),e(this).parent().addClass("active"),e("div.simcal-panel",l).hide(),e(e(this).attr("href")).show(),!1}),e("div.simcal-panels-wrap").each(function(){e(this).find("ul.simcal-tabs > li").eq(0).find("a").click()})}).trigger("simcal-init-tabbed-panels"),e("#_feed_type").on("change",function(){var l=e(this).find("option:selected"),n=l.val(),i=e(".simcal-tabs"),a=i.find("> .simcal-feed-type"),t=i.find("> .simcal-feed-type-"+n),s=i.find("> li:first-child > a");a.each(function(){e(this).hide()}),t.show(),s.trigger("click")}).trigger("change"),f.show();var C=e("#_calendar_view_default-calendar"),u=e("#default-calendar-settings"),m=u.find(".simcal-default-calendar-grid"),g=u.find(".simcal-default-calendar-list"),v=u.find(".simcal-default-calendar-list-grouped");C.on("change",function(){var l=e(this).val();l=="grid"?(g.hide(),v.hide(),m.show()):l=="list"?(m.hide(),v.hide(),g.show()):l=="list-grouped"&&(m.hide(),g.hide(),v.show())}).trigger("change");var S=e("#_calendar_type");S.on("change",function(){e('label[for*="_calendar_view_"]').hide(),e('#calendar-settings-panel table[id*="-settings"]').hide(),e('label[for="_calendar_view_'+e(this).val()+'"]').show(),e('#calendar-settings-panel table[id="'+e(this).val()+'-settings"]').show()}).trigger("change"),e(".simcal-field-color-picker").wpColorPicker(),e(".simcal-field-select-enhanced").each(function(l,n){var i=e(n),a=i.data("noresults"),t=i.data("allowclear");i.select2({allowClear:t!="undefined"?t:!1,placeholder:{id:"",placeholder:""},dir:simcal_admin.text_dir!="undefined"?simcal_admin.text_dir:"ltr",tokenSeparators:[","],width:"100%",language:{noResults:function(){return a!="undefined"?a:""}}})});var T=e(".simcal-field-date-picker");T.each(function(l,n){var i=e(n).find("input"),a={autoSize:!0,changeMonth:!0,changeYear:!0,dateFormat:"yy-mm-dd",firstDay:1,prevText:'<i class="simcal-icon-left"></i>',nextText:'<i class="simcal-icon-right"></i>',yearRange:"1900:2050",beforeShow:function(t,s){e("#ui-datepicker-div").addClass("simcal-date-picker")}};e(i).datepicker(a),e(i).datepicker("option",e.datepicker.regional[simcal_admin.locale])});var x=e(".simcal-field-datetime-format");x.sortable({items:"> div",stop:function(){p(e(this))}}),x.each(function(l,n){var i=e(n).find("> div select");i.each(function(a,t){e(t).on("change",function(){p(e(this).closest("div.simcal-field-datetime-format"))})}),p(n)});function p(l){var n=e(l).find("input"),i=e(l).find("> div select"),a=e(l).find("code"),t="",s="";i.each(function(c,d){var o=e(d).val(),h=e(d).find("> option:selected");o.length&&(h.data("trim")?(t=t.trim()+e(d).val(),s=s.trim()+h.data("preview")):(t+=e(d).val()+" ",s+=h.data("preview")+" "))}),n.val(t),a.text(s)}e(".simcal-field-datetime-format-php").each(function(l,n){var i=e(n).find("input"),a=e(n).find("code");e(i).on("keyup",function(){var t={action:"simcal_date_i18n_input_preview",value:i.val()};e.post(simcal_admin.ajax_url,t,function(s){e(a).text(s.data)})})}),e('input[type="number"].simcal-field').each(function(l,n){var i=e(n),a=i.attr("min"),t=i.attr("max");i.on("change",function(){var s=parseInt(e(this).val());a&&s<a&&e(this).val(a),t&&s>t&&e(this).val(t)})}),e(".simcal-field-switch-other").on("change",function(){var l=e(this).find("option");l.each(function(n,i){var a=e(i).data("show-field"),t=e(i).data("show-fields"),s=e(i).data("hide-field"),c=e(i).data("hide-fields"),d=a?e("#"+a):"",o=s?e("#"+s):"";if(e(i).is(":selected")){if(d&&d.show(),o&&o.hide(),t){var h=c.split(",");e(h).each(function(j,_){e("#"+_).hide()})}if(c){var D=c.split(",");e(D).each(function(j,_){e("#"+_).hide()})}}})}).trigger("change"),e(".simcal-field-show-other").on("change",function(){var l=e(this).find("option");l.each(function(n,i){var a=e(i).data("show-field"),t=typeof a<"u"&&a.length?e("#"+a):"",s=typeof a<"u"&&a.length?t.next():"";t.length&&(e(i).is(":selected")?(t.show(),s.hasClass("select2")&&s.show()):(t.hide(),s.hasClass("select2")&&s.hide()))})}).trigger("change"),e(".simcal-field-show-next").on("change",function(){var l,n,i,a;e(this).is(":checkbox")?(i=e(this).parent().next(),e(this).is(":checked")?i.show():i.hide()):(l=e(this).val(),n=e(this).data("show-next-if-value"),i=e(this).nextUntil().not("i"),a=i.length?i.next():"",l==n?(i.show(),a.hasClass("select2")&&a.show()):(i.hide(),a.hasClass("select2")&&a.hide()))}).trigger("change"),e("#simcal-clear-cache").on("click",function(l){l.preventDefault();var n=e(this).find("i");e.ajax({url:simcal_admin.ajax_url,method:"POST",data:{action:"simcal_clear_cache",id:e(this).data("id"),nonce:simcal_admin.nonce},beforeSend:function(){n.fadeToggle()},success:function(){n.fadeToggle()},error:function(i){console.log(i)}})}),e("#simcal-drip-signup").on("click",function(l){l.preventDefault();var n=e("#simcal-drip"),i=n.find(".signup"),a=n.find(".thank-you"),t=e("#simcal-drip-form"),s=n.find("#simcal-drip-field-first_name"),c=t.find("#simcal-drip-real-field-first_name"),d=n.find("#simcal-drip-field-email"),o=t.find("#simcal-drip-real-field-email");c.val(s.val()),o.val(d.val()),i.hide(),a.show(),t.submit()}),e("#_feed_type").on("change",function(l){if(e(this).val()==="grouped-calendars")e("#use_calendar").remove();else if(!e("#use_calendar").length){var n='<option id="use_calendar" value="use_calendar" data-show-field="_use_calendar_warning">Event source default</option>';e("#_feed_timezone_setting").append(n)}}),e(".simcal-addon-manage-license").on("click",function(l){l.preventDefault();var n="",i=e(this),a=i.closest(".simcal-addon-manage-license-buttons"),t=i.closest(".simcal-addon-manage-license-field").find("> input"),s=a.find(".error"),c=i.find("i");if(e(this).hasClass("activate"))n="activate_license";else if(e(this).hasClass("deactivate"))n="deactivate_license";else return;e.ajax({url:simcal_admin.ajax_url,method:"POST",data:{action:"simcal_manage_add_on_license",add_on:e(this).data("add-on"),license_key:t.val(),license_action:n,nonce:e("#simcal_license_manager").val()},beforeSend:function(){c.fadeToggle()},success:function(d){c.fadeToggle(),n=="activate_license"?d.data=="valid"?(i.hide(),t.attr("disabled","disabled"),e(a).find(".label").show(),e(a).find(".deactivate").show(),s.hide()):s.show().text(d.data):d.data=="deactivated"?(i.hide(),t.removeAttr("disabled"),e(a).find(".label").hide(),e(a).find(".activate").show(),s.hide()):s.show().text(d.data)},error:function(d){console.log(d),c.fadeToggle()}})}),e("#simcal-reset-licenses").on("click",function(l){l.preventDefault();var n=e(this).find("i"),i=e(this).data("dialog"),a=confirm(i);a===!0&&e.ajax({url:simcal_admin.ajax_url,method:"POST",data:{action:"simcal_reset_add_ons_licenses",nonce:e("#simcal_license_manager").val()},beforeSend:function(){n.toggle()},success:function(t){t.data=="success"?location.reload():console.log(t)},error:function(t){console.log(t)}})})})})(k)});O();})();
//# sourceMappingURL=admin.min.js.map
