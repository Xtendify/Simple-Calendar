{
  "version": 3,
  "sources": ["../js/admin-add-calendar.js"],
  "sourcesContent": ["(function (window, undefined) {\n\t'use strict';\n\n\tjQuery(function ($) {\n\t\t/* ===================== *\n\t\t * Add Calendar Meta Box *\n\t\t * ===================== */\n\n\t\tvar ajaxEnhance = false,\n\t\t\twidgets = $('#widgets-left');\n\n\t\tif (widgets.length) {\n\t\t\t// See: http://wordpress.stackexchange.com/a/37707/48502\n\t\t\t$(document).ajaxComplete(function (event, XMLHttpRequest, ajaxOptions) {\n\t\t\t\t// Determine which ajax request is this (we are after \"save-widget\").\n\t\t\t\tvar request = {},\n\t\t\t\t\tpairs = ajaxOptions.data.split('&'),\n\t\t\t\t\ti,\n\t\t\t\t\tsplit,\n\t\t\t\t\twidget;\n\n\t\t\t\tfor (i in pairs) {\n\t\t\t\t\tsplit = pairs[i].split('=');\n\t\t\t\t\trequest[decodeURIComponent(split[0])] = decodeURIComponent(split[1]);\n\t\t\t\t}\n\n\t\t\t\tif (request.action && request.action === 'save-widget') {\n\t\t\t\t\twidget = $('input.widget-id[value=\"' + request['widget-id'] + '\"]').parents('.widget');\n\n\t\t\t\t\t// Trigger manual save, if this was the save request\n\t\t\t\t\t// and if we didn't get the form html response.\n\t\t\t\t\tif (!XMLHttpRequest.responseText) {\n\t\t\t\t\t\twpWidgets.save(widget, 0, 1, 0);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// We got a response, this could be either our request above,\n\t\t\t\t\t\t// or a correct widget-save call, so fire an event on which we can hook our code.\n\t\t\t\t\t\t$(document).trigger('saved_widget', widget);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Bind our Select2 function to the saved_widget event.\n\t\t\t$(document).bind('saved_widget', function (event, widget) {\n\t\t\t\tajaxEnhance = true;\n\t\t\t\tenhanceDropDown();\n\t\t\t});\n\t\t}\n\n\t\tif (!ajaxEnhance) {\n\t\t\tenhanceDropDown();\n\t\t}\n\n\t\t/**\n\t\t * Select2.\n\t\t */\n\t\tfunction enhanceDropDown() {\n\t\t\t$('.simcal-field-select-enhanced').each(function (e, i) {\n\t\t\t\tvar field = $(i),\n\t\t\t\t\tnoResults = field.data('noresults'),\n\t\t\t\t\tallowClear = field.data('allowclear');\n\n\t\t\t\tfield.select2({\n\t\t\t\t\tallowClear: allowClear != 'undefined' ? allowClear : false,\n\t\t\t\t\tplaceholder: {\n\t\t\t\t\t\tid: '',\n\t\t\t\t\t\tplaceholder: '',\n\t\t\t\t\t},\n\t\t\t\t\tdir: simcal_admin.text_dir != 'undefined' ? simcal_admin.text_dir : 'ltr',\n\t\t\t\t\ttokenSeparators: [','],\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\tlanguage: {\n\t\t\t\t\t\tnoResults: function () {\n\t\t\t\t\t\t\treturn noResults != 'undefined' ? noResults : '';\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t/* ========================= *\n\t\t * Add Calendar Media Button *\n\t\t * ========================= */\n\n\t\t// Very Ugly ThickBox hack: https://core.trac.wordpress.org/ticket/17249\n\t\t$('#simcal-insert-shortcode-button').on('click', function () {\n\t\t\t// ThickBox creates a div which is not immediately available.\n\t\t\tsetTimeout(function () {\n\t\t\t\tvar thickBox = document.getElementById('TB_window');\n\t\t\t\tif (thickBox != 'undefined') {\n\t\t\t\t\tthickBox.classList.add('simcal-insert-shortcode-modal');\n\t\t\t\t}\n\t\t\t\tvar thickBoxTitle = document.getElementById('TB_title');\n\t\t\t\tif (thickBoxTitle != 'undefined') {\n\t\t\t\t\tthickBoxTitle.classList.add('simcal-insert-shortcode-modal-title');\n\t\t\t\t}\n\t\t\t}, 120);\n\t\t});\n\n\t\t// Add shortcode in WordPress post editor.\n\t\t$('#simcal-insert-shortcode').on('click', function (e) {\n\t\t\te.preventDefault();\n\n\t\t\tvar feedId = $('#simcal-choose-calendar').val();\n\n\t\t\twp.media.editor.insert('[calendar id=\"' + feedId + '\"] ');\n\n\t\t\t// Close Thickbox.\n\t\t\ttb_remove();\n\t\t});\n\t});\n})(this);\n"],
  "mappings": ";;;;;oEAAA,IAAAA,EAAAC,EAAAC,GAAA,EAAC,SAAUC,EAAQC,EAAW,CAC7B,aAEA,OAAO,SAAUC,EAAG,CAKnB,IAAIC,EAAc,GACjBC,EAAUF,EAAE,eAAe,EAExBE,EAAQ,SAEXF,EAAE,QAAQ,EAAE,aAAa,SAAUG,EAAOC,EAAgBC,EAAa,CAEtE,IAAIC,EAAU,CAAC,EACdC,EAAQF,EAAY,KAAK,MAAM,GAAG,EAClCG,EACAC,EACAC,EAED,IAAKF,KAAKD,EACTE,EAAQF,EAAMC,CAAC,EAAE,MAAM,GAAG,EAC1BF,EAAQ,mBAAmBG,EAAM,CAAC,CAAC,CAAC,EAAI,mBAAmBA,EAAM,CAAC,CAAC,EAGhEH,EAAQ,QAAUA,EAAQ,SAAW,gBACxCI,EAASV,EAAE,0BAA4BM,EAAQ,WAAW,EAAI,IAAI,EAAE,QAAQ,SAAS,EAIhFF,EAAe,aAKnBJ,EAAE,QAAQ,EAAE,QAAQ,eAAgBU,CAAM,EAJ1C,UAAU,KAAKA,EAAQ,EAAG,EAAG,CAAC,EAOjC,CAAC,EAGDV,EAAE,QAAQ,EAAE,KAAK,eAAgB,SAAUG,EAAOO,EAAQ,CACzDT,EAAc,GACdU,EAAgB,CACjB,CAAC,GAGGV,GACJU,EAAgB,EAMjB,SAASA,GAAkB,CAC1BX,EAAE,+BAA+B,EAAE,KAAK,SAAUY,EAAGJ,EAAG,CACvD,IAAIK,EAAQb,EAAEQ,CAAC,EACdM,EAAYD,EAAM,KAAK,WAAW,EAClCE,EAAaF,EAAM,KAAK,YAAY,EAErCA,EAAM,QAAQ,CACb,WAAYE,GAAc,YAAcA,EAAa,GACrD,YAAa,CACZ,GAAI,GACJ,YAAa,EACd,EACA,IAAK,aAAa,UAAY,YAAc,aAAa,SAAW,MACpE,gBAAiB,CAAC,GAAG,EACrB,MAAO,OACP,SAAU,CACT,UAAW,UAAY,CACtB,OAAOD,GAAa,YAAcA,EAAY,EAC/C,CACD,CACD,CAAC,CACF,CAAC,CACF,CAOAd,EAAE,iCAAiC,EAAE,GAAG,QAAS,UAAY,CAE5D,WAAW,UAAY,CACtB,IAAIgB,EAAW,SAAS,eAAe,WAAW,EAC9CA,GAAY,aACfA,EAAS,UAAU,IAAI,+BAA+B,EAEvD,IAAIC,EAAgB,SAAS,eAAe,UAAU,EAClDA,GAAiB,aACpBA,EAAc,UAAU,IAAI,qCAAqC,CAEnE,EAAG,GAAG,CACP,CAAC,EAGDjB,EAAE,0BAA0B,EAAE,GAAG,QAAS,SAAUY,EAAG,CACtDA,EAAE,eAAe,EAEjB,IAAIM,EAASlB,EAAE,yBAAyB,EAAE,IAAI,EAE9C,GAAG,MAAM,OAAO,OAAO,iBAAmBkB,EAAS,KAAK,EAGxD,UAAU,CACX,CAAC,CACF,CAAC,CACF,GAAGrB,CAAI",
  "names": ["require_admin_add_calendar", "__commonJSMin", "exports", "window", "undefined", "$", "ajaxEnhance", "widgets", "event", "XMLHttpRequest", "ajaxOptions", "request", "pairs", "i", "split", "widget", "enhanceDropDown", "e", "field", "noResults", "allowClear", "thickBox", "thickBoxTitle", "feedId"]
}
